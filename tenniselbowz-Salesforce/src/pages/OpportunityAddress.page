<apex:page standardController="Opportunity" extensions="OpportunityAddressController">
    
    <apex:form id="detailForm">
        <apex:pageBlock Id="main" mode="edit" Title="{!IF(opportunityAddress.Opportunity_Address__c=null, 'Address Find/Create', 'Address Edit')}">
            <apex:pageMessages />
            <apex:pageBlockButtons >
                <apex:commandButton value="Save" action="{!Save}" />
                <apex:commandButton value="Cancel" action="{!Cancel}" />
            </apex:pageBlockButtons>
            <apex:pageBlockSection id="detailSection" Title="Information">
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Address" />
                    <apex:actionRegion >
                        <apex:inputField value="{!opportunityAddress.Opportunity_Address__c}" required="False" >
                            <apex:actionSupport event="onchange" immediate="FALSE" action="{!selectAddress}" reRender="detailSection"/>
                        </apex:inputField> 
                    </apex:actionRegion>
                    
                            
                </apex:pageBlockSectionItem>
                <apex:outputField value="{!address.OwnerId}" /> 
                
                <apex:InputField value="{!address.Address_Name__c}" rendered="{!!addressSelected}"/>                
                <apex:outputField value="{!address.Address_Name__c}" rendered="{!addressSelected}"/>    <apex:OutputPanel />    
                <apex:InputField value="{!address.Address_Line_1__c}" rendered="{!!addressSelected}" required="true"/>  
                <apex:OutputField value="{!address.Address_Line_1__c}" rendered="{!addressSelected}"/>  <apex:OutputPanel />    
                <apex:InputField value="{!address.Address_Line_2__c}" rendered="{!!addressSelected}"/>          
                <apex:OutputField value="{!address.Address_Line_2__c}" rendered="{!addressSelected}"/>  <apex:OutputPanel />    
                <apex:InputField value="{!address.Address_Line_3__c}" rendered="{!!addressSelected}"/>  
                <apex:OutputField value="{!address.Address_Line_3__c}" rendered="{!addressSelected}"/>  <apex:OutputPanel />    
                <apex:InputField value="{!address.Address_Line_4__c}" rendered="{!!addressSelected}"/>  
                <apex:OutputField value="{!address.Address_Line_4__c}" rendered="{!addressSelected}"/>  <apex:OutputPanel />    
                <apex:InputField value="{!address.City__c}" rendered="{!!addressSelected}" required="true"/>            
                <apex:OutputField value="{!address.City__c}" rendered="{!addressSelected}"/>            <apex:OutputPanel />    
                <apex:InputField value="{!address.Country__c}" rendered="{!!addressSelected}" required="true"/>         
                <apex:OutputField value="{!address.Country__c}" rendered="{!addressSelected}"/>         <apex:OutputPanel />    
                <apex:InputField value="{!address.State_Province__c}" rendered="{!!addressSelected}"/>  
                <apex:OutputField value="{!address.State_Province__c}" rendered="{!addressSelected}"/>  <apex:OutputPanel />    
                <apex:InputField value="{!address.Postal_Code__c}" rendered="{!!addressSelected}"/>     
                <apex:OutputField value="{!address.Postal_Code__c}" rendered="{!addressSelected}"/>     <apex:OutputPanel />
                <apex:OutputField value="{!address.LastModifiedDate}" rendered="{!address.Id != null}"/><apex:OutputPanel rendered="{!address.Id != null}"/>
                <apex:pageBlockSectionItem rendered="{!address.Id != null}">
                    <apex:OutputLabel value="Last Modified By"/>
                    <apex:OutputField value="{!address.LastModifiedBy.Name}" rendered="{!address.Id != null}"/> 
                </apex:pageBlockSectionItem>        
         </apex:PageBlockSection>
        
            
        </apex:pageBlock>
    </apex:form>
</apex:page>
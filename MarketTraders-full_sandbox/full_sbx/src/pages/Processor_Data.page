<apex:page showHeader="true" sidebar="false" standardStylesheets="true" controller="ProcessorController" id="processorSettings">
<head>
    <apex:stylesheet value="{!$Resource.processor_main}"/>
    <apex:stylesheet value="{!URLFOR($Resource.modal_style, 'modal_style.css')}"/>
</head>
<body>
<apex:pageMessages />
<apex:form >
    <apex:pageBlock title="{!selectedProcessorName}" id="processorLoadDataBlock">

        <apex:pageBlockSection title="Upload File" id="data">
            
            <apex:pageBlockSectionItem rendered="{!processor.configuration.csv}">
                <apex:outputLabel value="Upload CSV" for="dataupload"/>
                <apex:inputFile value="{!upload.body}" filename="{!upload.name}" id="dataupload" required=""/>
            </apex:pageBlockSectionItem>
            
            <apex:pageBlockSectionItem rendered="{!processor.configuration.manualDateSelection}">
                <apex:outputLabel value="Webinar Date" for="webinardate"/>
                <apex:inputField value="{!processor.webinar.Event_Date_Time__c}" id="webinardate"/>
            </apex:pageBlockSectionItem>
            
            <apex:pageBlockSectionItem rendered="{!NOT(processor.configuration.csv)}">
                <apex:outputLabel value="Select a  Webinar" for="selectWebinarType"/>
                <apex:selectList value="{!selectedWebinar}" multiselect="false" size="1" id="selectWebinarType" required="{!NOT(processor.configuration.csv)}">
                    <apex:selectOptions value="{!processor.Webinars}"/>
                </apex:selectList>
            </apex:pageBlockSectionItem>



        </apex:pageBlockSection>
    
        <apex:pageBlockButtons id="processorNavigation" location="bottom">
            <apex:commandButton value="Cancel" action="{!loadProcessorHomePage}" id="cancel"/>
            <apex:commandButton value="Continue" action="{!loadProcessorVerifyWebinarPage}" id="continue" onclick="modal.open();"/>
        </apex:pageBlockButtons>

    </apex:pageBlock>
    
</apex:form>
<apex:includeScript value="{!$Resource.jquery_V_1_11_0}"/>
<apex:includeScript value="{!URLFOR($Resource.jquery_ui, '/jquery_ui/js/jquery-ui-1.10.4.custom.min.js')}"/>
<script>
    $j = jQuery.noConflict();
    $j(".datepicker").datepicker({dateFormat: 'yy-mm-dd'});
    var modal = (function() {
        var 
        method = {},
        $joverlay,
        $jmodal,
        $jcontent,
        $jclose;
    
        // Center the modal in the viewport
        method.center = function () {
            var top, left;
    
            top = Math.max($j(window).height() - $jmodal.outerHeight(), 0) / 2;
            left = Math.max($j(window).width() - $jmodal.outerWidth(), 0) / 2;
    
            $jmodal.css({
                top:top + $j(window).scrollTop(), 
                left:left + $j(window).scrollLeft()
            });
        };
    
        // Open the modal
        method.open = function () {
    
            $jmodal.css({
                width: 'auto', 
                height: 'auto'
            });
    
            method.center();
            $j(window).bind('resize.modal', method.center);
            $jmodal.show();
            $joverlay.show();
        };
    
        // Close the modal
        method.close = function () {
            $jmodal.hide();
            $joverlay.hide();
            $jcontent.empty();
            $j(window).unbind('resize.modal');
        };
    
        // Generate the HTML and add it to the document
        $joverlay = $j('<div id="overlay"></div>');
        $jmodal = $j('<div id="modal"><img src="{!$Resource.loader}" alt="loading"></div>');
        //$jcontent = $j('<div id="content"></div>');
    
        $jmodal.hide();
        $joverlay.hide();
        //$jmodal.append($jcontent);
    
        $j(document).ready(function(){
            $j('body').append($joverlay, $jmodal);                      
        });

        return method;
    }());
    
</script>
</body>

</apex:page>
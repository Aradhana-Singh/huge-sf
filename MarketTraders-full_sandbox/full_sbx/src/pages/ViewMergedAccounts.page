<apex:page standardController="Account" extensions="Extension_AccountMergeReader" showHeader="false" sidebar="false">
<head>

</head>
<apex:form >

    <apex:pageBlock title="Merged Account Reader" id="mergedAccountReader">
        <apex:pageBlockSection title="Summary" columns="1">
            <apex:outputPanel id="mergesummary">            
                <apex:pageBlockTable value="{!accts}" var="mergedAcct">    
                    <apex:column >
                    <apex:facet name="header">
                       Merge Acct Name
                    </apex:facet>
                     <apex:commandLink value="Merged Account: {!mergedAcct['Id']}" action="{!setAccount}" rerender="mergedAccountReader" status="accountMergeStatus" > 
                       <apex:param name="mergeId" value="{!mergedAcct['Id']}" assignTo="{!selectedMergedAccountId}"/> 
                     </apex:commandLink> 
                    </apex:column>
                    <apex:column >
                        <apex:facet name="header">Id</apex:facet>
                        <apex:outputText value="{!mergedAcct['Id']}" />
                    </apex:column>
                    <apex:column >
                    <apex:facet name="header">
                        Created Date
                    </apex:facet>
                    <apex:outputText value="{!mergedAcct['CreatedDate']}"/>
                    </apex:column>
                    <apex:column >
                    <apex:facet name="header">
                        Name
                    </apex:facet>
                    <apex:outputText value="{!mergedAcct['Name']}"/>
                    </apex:column>
                     <apex:column >
                    <apex:facet name="header">
                        Owner
                    </apex:facet>
                    <apex:outputText value="{!mergedAcct['Owner']}"/>
                    </apex:column>
                     <apex:column >
                    <apex:facet name="header">
                        Phone
                    </apex:facet>
                    <apex:outputText value="{!mergedAcct['Phone']}"/>
                    </apex:column>
                     <apex:column >
                    <apex:facet name="header">
                        Webinar Provided Phone#
                    </apex:facet>
                    <apex:outputText value="{!mergedAcct['Webinar_Provided_Phone__c']}"/>
                    </apex:column> 
                       <apex:column >
                    <apex:facet name="header">
                        PersonEmail
                    </apex:facet>
                    <apex:outputText value="{!mergedAcct['PersonEmail']}"/>
                    </apex:column>
                     <apex:column >
                    <apex:facet name="header">
                         Alt Email
                    </apex:facet>
                    <apex:outputText value="{!mergedAcct['Alternate_Email__c']}"/>
                    </apex:column>
                     <apex:column >
                    <apex:facet name="header">
                        PB Overall Summary Client
                    </apex:facet>
                    <apex:outputText value="{!mergedAcct['PB_OVERALL_Summary_CLIENT__c']}"/>
                    </apex:column>                                                                                    
                </apex:pageBlockTable> 

            </apex:outputPanel>
        </apex:pageBlockSection>
        <apex:pageBlockSection title="Merged Accounts" columns="1">
            <apex:actionStatus id="accountMergeStatus" startText="" />
            <apex:pageBlockSectionItem >
                <apex:outputLabel value="Select Merged Account to View" for="mergedaccounts"/>
                <apex:selectList value="{!selectedMergedAccountId}" multiselect="false" size="1" id="mergedaccounts" required="true">
                    <apex:selectOptions value="{!mergedAccounts}"/>
                    <apex:actionSupport event="onchange" action="{!setAccount}" rerender="mergedAccountReader" status="accountMergeStatus"/>
                </apex:selectList>
            </apex:pageBlockSectionItem>
        
        </apex:pageBlockSection>


        <apex:dynamicComponent componentValue="{!mergedAccountSection}"/>

    </apex:pageBlock>
    

</apex:form>
</apex:page>